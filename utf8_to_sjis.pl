#!/usr/bin/perl
use strict;
use warnings;
use utf8;

open (FILEIN, "<:utf8" ,'wadoku.html') or die "can't open input file";
open (FILEOUT, ">:encoding(shiftjis)", 'wadoku_sjis.html') or die "can't create output file"; 

while(<FILEIN>) {
	my($line) = $_;
	
	if($line !~ /日本語の習得に苦労した宣教師は日本語は悪魔が人を困らせるために造り出した言語だと考えた/) {
	# zu lang zum indizieren
	$line =~ s/【小なり記号;<;＜】/【小なり記号】/g;
	$line =~ s/<key type="表記"><<\/key>/ /g;
	$line =~ s/<key type="表記">\x{ff1c}<\/key>/ /g;
	$line =~ s/Kleiner-als-Zeichen;  &lt; ;  \x{ff1c} /Kleiner-als-Zeichen;  &lt; /g;
		
	$line =~ s/\x{ff65}//g;         # problemem beim indizieren
	
	## codepoints mit gaiji
	## als html encodieren

	$line =~ s/\x{00a0}/ /g;         # no-break space
	$line =~ s/\x{202f}/ /g;         # yet another variation of space
	$line =~ s/\x{00a1}/&#x00A1;/g;  # i exl.
	$line =~ s/\x{00a2}/&#x00A2;/g;  # Cent
	$line =~ s/\x{00a3}/&#x00A3;/g;  # Pfund
	$line =~ s/\x{00a4}/&#x00A4;/g;  # curren.
	$line =~ s/\x{00a6}/&#x00A6;/g;  # brvbar
	$line =~ s/\x{00ad}//g;		     # bedingte Trennung - 
	$line =~ s/\x{2011}/-/g;		 # haiphun non-breaking  	
	$line =~ s/\x{2013}/-/g;  		 # haiphun variabler Breite
	$line =~ s/\x{014d}/&#x014D;/g;  # langes o in Tokyo
	$line =~ s/\x{014c}/&#x014C;/g;  # langes O in Osaka
	$line =~ s/\x{0101}/&#x0101;/g;  # a mit macron
	$line =~ s/\x{0132}/&#x0132;/g;  # latin capital ligature ij
	$line =~ s/\x{0113}/&#x0113;/g;  # e mit macron
	$line =~ s/\x{00a5}/&#x00A5;/g;  # Yen-Symbol
	$line =~ s/\x{201e}/"/g;  		 # deutsche Anf. unten
	$line =~ s/\x{0100}/&#x0100;/g;  # A mit macron
	$line =~ s/\x{012b}/&#x012B;/g;  # i mit macron
	$line =~ s/\x{017a}/&#x017A;/g;  # z mit acute
	$line =~ s/\x{0141}/&#x0141;/g;  # L durchgestrichen (pol. L)
	$line =~ s/\x{015a}/&#x015a;/g;  # S mit acute
	$line =~ s/\x{016b}/&#x016B;/g;  # u mit macron
	$line =~ s/\x{00a7}/&#x00A7;/g;   # sect
	$line =~ s/\x{00a8}/&#x00A8;/g;   # u uml	
	$line =~ s/\x{00a9}/&#x00A8;/g;   # 	
	$line =~ s/\x{00aa}/&#x00AA;/g;   # 	
	$line =~ s/\x{00ab}/&#x00AB;/g;   # 	
	$line =~ s/\x{00ac}/&#x00AC;/g;   # 	
	$line =~ s/\x{00ad}/&#x00AD;/g;   # 	
	$line =~ s/\x{00ae}/&#x00AE;/g;   # 	
	$line =~ s/\x{00af}/&#x00AF;/g;   # 	
	$line =~ s/\x{00b0}/&#x00B0;/g;   # 	
	$line =~ s/\x{00b1}/&#x00B1;/g;   # 	
	$line =~ s/\x{00b2}/&#x00B2;/g;   # 	
	$line =~ s/\x{00b3}/&#x00B3;/g;   # 	
	$line =~ s/\x{00b4}/&#x00B4;/g;   # 	
	$line =~ s/\x{00b5}/&#x00B5;/g;   # 	
	$line =~ s/\x{00b6}/&#x00B6;/g;   # 	
	$line =~ s/\x{00b7}/&#x00B7;/g;   # 	
	$line =~ s/\x{00b8}/&#x00B8;/g;   # 	
	$line =~ s/\x{00b9}/&#x00B9;/g;   # 	
	$line =~ s/\x{00ba}/&#x00BA;/g;   # 	
	$line =~ s/\x{00bb}/&#x00BB;/g;   # 	
	$line =~ s/\x{00bc}/&#x00BC;/g;   # 	
	$line =~ s/\x{00bd}/&#x00BD;/g;   # 	
	$line =~ s/\x{00be}/&#x00BE;/g;   # 	
	$line =~ s/\x{00bf}/&#x00BF;/g;   # 	
	$line =~ s/\x{00c0}/&#x00C0;/g;   # 	
	$line =~ s/\x{00c1}/&#x00C1;/g;   # 	
	$line =~ s/\x{00c2}/&#x00C2;/g;   # 	
	$line =~ s/\x{00c3}/&#x00C3;/g;   # 	
	$line =~ s/\x{00c4}/&#x00C4;/g;   # 	
	$line =~ s/\x{00c5}/&#x00C5;/g;   # 	
	$line =~ s/\x{00c6}/&#x00C6;/g;   # 	
	$line =~ s/\x{00c7}/&#x00C7;/g;   # 	
	$line =~ s/\x{00c8}/&#x00C8;/g;   # 	
	$line =~ s/\x{00c9}/&#x00C9;/g;   # 	
	$line =~ s/\x{00ca}/&#x00CA;/g;   # 	
	$line =~ s/\x{00cb}/&#x00CB;/g;   # 	
	$line =~ s/\x{00cc}/&#x00CC;/g;   # 	
	$line =~ s/\x{00cd}/&#x00CD;/g;   # 	
	$line =~ s/\x{00ce}/&#x00CE;/g;   # 	
	$line =~ s/\x{00cf}/&#x00CF;/g;   # 	
	$line =~ s/\x{00d0}/&#x00D0;/g;   # 	
	$line =~ s/\x{00d1}/&#x00D1;/g;   # 	
	$line =~ s/\x{00d2}/&#x00D2;/g;   # 	
	$line =~ s/\x{00d3}/&#x00D3;/g;   # 	
	$line =~ s/\x{00d4}/&#x00D4;/g;   # 	
	$line =~ s/\x{00d5}/&#x00D5;/g;   # 	
	$line =~ s/\x{00d6}/&#x00D6;/g;   # 	
	$line =~ s/\x{00d7}/&#x00D7;/g;   # 	
	$line =~ s/\x{00d8}/&#x00D8;/g;   # 	
	$line =~ s/\x{00d9}/&#x00D9;/g;   # 	
	$line =~ s/\x{00da}/&#x00DA;/g;   # 	
	$line =~ s/\x{00db}/&#x00DB;/g;   # 	
	$line =~ s/\x{00dc}/&#x00DC;/g;   # 	
	$line =~ s/\x{00dd}/&#x00DD;/g;   # 	
	$line =~ s/\x{00de}/&#x00DE;/g;   # 	
	$line =~ s/\x{00df}/&#x00DF;/g;   # 	
	$line =~ s/\x{00e0}/&#x00E0;/g;   # 	
	$line =~ s/\x{00e1}/&#x00E1;/g;   # 	
	$line =~ s/\x{00e2}/&#x00E2;/g;   # 	
	$line =~ s/\x{00e3}/&#x00E3;/g;   # 	
	$line =~ s/\x{00e4}/&#x00E4;/g;   # 	
	$line =~ s/\x{00e5}/&#x00E5;/g;   # 	
	$line =~ s/\x{00e6}/&#x00E6;/g;   # 	
	$line =~ s/\x{00e7}/&#x00E7;/g;   # 	
	$line =~ s/\x{00e8}/&#x00E8;/g;   # 	
	$line =~ s/\x{00e9}/&#x00E9;/g;   # 	
	$line =~ s/\x{00ea}/&#x00EA;/g;   # 	
	$line =~ s/\x{00eb}/&#x00EB;/g;   # 	
	$line =~ s/\x{00ec}/&#x00EC;/g;   # 	
	$line =~ s/\x{00ed}/&#x00ED;/g;   # 	
	$line =~ s/\x{00ee}/&#x00EE;/g;   # 	
	$line =~ s/\x{00ef}/&#x00EF;/g;   # 	
	$line =~ s/\x{00f0}/&#x00F0;/g;   # 	
	$line =~ s/\x{00f1}/&#x00F1;/g;   # 	
	$line =~ s/\x{00f2}/&#x00F2;/g;   # 	
	$line =~ s/\x{00f3}/&#x00F3;/g;   # 	
	$line =~ s/\x{00f4}/&#x00F4;/g;   # 	
	$line =~ s/\x{00f5}/&#x00F5;/g;   # 	
	$line =~ s/\x{00f6}/&#x00F6;/g;   # 	
	$line =~ s/\x{00f7}/&#x00F7;/g;   # 	
	$line =~ s/\x{00f8}/&#x00F8;/g;   # 	
	$line =~ s/\x{00f9}/&#x00F9;/g;   # 	
	$line =~ s/\x{00fa}/&#x00FA;/g;   # 	
	$line =~ s/\x{00fb}/&#x00FB;/g;   # 	
	$line =~ s/\x{00fc}/&#x00FC;/g;   # 	
	$line =~ s/\x{00fd}/&#x00FD;/g;   # 	
	$line =~ s/\x{00fe}/&#x00FE;/g;   # 
	$line =~ s/\x{00ff}/&#x00FF;/g;   # 	
	$line =~ s/\x{0110}/&#x0110;/g;   # 	
	$line =~ s/\x{0111}/&#x0111;/g;   # 	
	$line =~ s/\x{0112}/&#x0112;/g;   # 	
	$line =~ s/\x{0113}/&#x0113;/g;   # 	
	$line =~ s/\x{0114}/&#x0114;/g;   # 	
	$line =~ s/\x{0115}/&#x0115;/g;   # 	
	$line =~ s/\x{0116}/&#x0116;/g;   # 	
	$line =~ s/\x{0117}/&#x0117;/g;   # 	
	$line =~ s/\x{0118}/&#x0118;/g;   # 	
	$line =~ s/\x{0119}/&#x0119;/g;   # 	
	$line =~ s/\x{011A}/&#x011A;/g;   # 	
	$line =~ s/\x{011B}/&#x011B;/g;   # 	
	$line =~ s/\x{011C}/&#x011C;/g;   # 	
	$line =~ s/\x{011D}/&#x011D;/g;   # 	
	$line =~ s/\x{011E}/&#x011E;/g;   # 	
	$line =~ s/\x{011F}/&#x011F;/g;   # 
	$line =~ s/\x{0120}/&#x0120;/g;   # 	
	$line =~ s/\x{0121}/&#x0121;/g;   # 	
	$line =~ s/\x{0122}/&#x0122;/g;   # 	
	$line =~ s/\x{0123}/&#x0123;/g;   # 	
	$line =~ s/\x{0124}/&#x0124;/g;   # 	
	$line =~ s/\x{0125}/&#x0125;/g;   # 	
	$line =~ s/\x{0126}/&#x0126;/g;   # 	
	$line =~ s/\x{0127}/&#x0127;/g;   # 	
	$line =~ s/\x{0128}/&#x0128;/g;   # 	
	$line =~ s/\x{0129}/&#x0129;/g;   # 	
	$line =~ s/\x{012A}/&#x012A;/g;   # 	
	$line =~ s/\x{012B}/&#x012B;/g;   # 	
	$line =~ s/\x{012C}/&#x012C;/g;   # 	
	$line =~ s/\x{012D}/&#x012D;/g;   # 	
	$line =~ s/\x{012E}/&#x012E;/g;   # 	
	$line =~ s/\x{012F}/&#x012F;/g;   # 
	$line =~ s/\x{0130}/&#x0130;/g;   # 	
	$line =~ s/\x{0131}/&#x0131;/g;   # 	
	$line =~ s/\x{0132}/&#x0132;/g;   # 	
	$line =~ s/\x{0133}/&#x0133;/g;   # 	
	$line =~ s/\x{0134}/&#x0134;/g;   # 	
	$line =~ s/\x{0135}/&#x0135;/g;   # 	
	$line =~ s/\x{0136}/&#x0136;/g;   # 	
	$line =~ s/\x{0137}/&#x0137;/g;   # 	
	$line =~ s/\x{0138}/&#x0138;/g;   # 	
	$line =~ s/\x{0139}/&#x0139;/g;   # 	
	$line =~ s/\x{013A}/&#x013A;/g;   # 	
	$line =~ s/\x{013B}/&#x013B;/g;   # 	
	$line =~ s/\x{013C}/&#x013C;/g;   # 	
	$line =~ s/\x{013D}/&#x013D;/g;   # 	
	$line =~ s/\x{013E}/&#x013E;/g;   # 	
	$line =~ s/\x{013F}/&#x013F;/g;   #
	$line =~ s/\x{0140}/&#x0140;/g;   # 	
	$line =~ s/\x{0141}/&#x0141;/g;   # 	
	$line =~ s/\x{0142}/&#x0142;/g;   # 	
	$line =~ s/\x{0143}/&#x0143;/g;   # 	
	$line =~ s/\x{0144}/&#x0144;/g;   # 	
	$line =~ s/\x{0145}/&#x0145;/g;   # 	
	$line =~ s/\x{0146}/&#x0146;/g;   # 	
	$line =~ s/\x{0147}/&#x0147;/g;   # 	
	$line =~ s/\x{0148}/&#x0148;/g;   # 	
	$line =~ s/\x{0149}/&#x0149;/g;   # 	
	$line =~ s/\x{014A}/&#x014A;/g;   # 	
	$line =~ s/\x{014B}/&#x014B;/g;   # 	
	$line =~ s/\x{014C}/&#x014C;/g;   # 	
	$line =~ s/\x{014D}/&#x014D;/g;   # 	
	$line =~ s/\x{014E}/&#x014E;/g;   # 	
	$line =~ s/\x{014F}/&#x014F;/g;   #
	$line =~ s/\x{0150}/&#x0150;/g;   # 	
	$line =~ s/\x{0151}/&#x0151;/g;   # 	
	$line =~ s/\x{0152}/&#x0152;/g;   # 	
	$line =~ s/\x{0153}/&#x0153;/g;   # 	
	$line =~ s/\x{0154}/&#x0154;/g;   # 	
	$line =~ s/\x{0155}/&#x0155;/g;   # 	
	$line =~ s/\x{0156}/&#x0156;/g;   # 	
	$line =~ s/\x{0157}/&#x0157;/g;   # 	
	$line =~ s/\x{0158}/&#x0158;/g;   # 	
	$line =~ s/\x{0159}/&#x0159;/g;   # 	
	$line =~ s/\x{015A}/&#x015A;/g;   # 	
	$line =~ s/\x{015B}/&#x015B;/g;   # 	
	$line =~ s/\x{015C}/&#x015C;/g;   # 	
	$line =~ s/\x{015D}/&#x015D;/g;   # 	
	$line =~ s/\x{015E}/&#x015E;/g;   # 	
	$line =~ s/\x{015F}/&#x015F;/g;   #
	$line =~ s/\x{0160}/&#x0160;/g;   # 	
	$line =~ s/\x{0161}/&#x0161;/g;   # 	
	$line =~ s/\x{0162}/&#x0162;/g;   # 	
	$line =~ s/\x{0163}/&#x0163;/g;   # 	
	$line =~ s/\x{0164}/&#x0164;/g;   # 	
	$line =~ s/\x{0165}/&#x0165;/g;   # 	
	$line =~ s/\x{0166}/&#x0166;/g;   # 	
	$line =~ s/\x{0167}/&#x0167;/g;   # 	
	$line =~ s/\x{0168}/&#x0168;/g;   # 	
	$line =~ s/\x{0169}/&#x0169;/g;   # 	
	$line =~ s/\x{016A}/&#x016A;/g;   # 	
	$line =~ s/\x{016B}/&#x016B;/g;   # 	
	$line =~ s/\x{016C}/&#x016C;/g;   # 	
	$line =~ s/\x{016D}/&#x016D;/g;   # 	
	$line =~ s/\x{016E}/&#x016E;/g;   # 	
	$line =~ s/\x{016F}/&#x016F;/g;   #	
	$line =~ s/\x{0170}/&#x0170;/g;   # 	
	$line =~ s/\x{0171}/&#x0171;/g;   # 	
	$line =~ s/\x{0172}/&#x0172;/g;   # 	
	$line =~ s/\x{0173}/&#x0173;/g;   # 	
	$line =~ s/\x{0174}/&#x0174;/g;   # 	
	$line =~ s/\x{0175}/&#x0175;/g;   # 	
	$line =~ s/\x{0176}/&#x0176;/g;   # 	
	$line =~ s/\x{0177}/&#x0177;/g;   # 	
	$line =~ s/\x{0178}/&#x0178;/g;   # 	
	$line =~ s/\x{0179}/&#x0179;/g;   # 	
	$line =~ s/\x{017A}/&#x017A;/g;   # 	
	$line =~ s/\x{017B}/&#x017B;/g;   # 	
	$line =~ s/\x{017C}/&#x017C;/g;   # 	
	$line =~ s/\x{017D}/&#x017D;/g;   # 	
	$line =~ s/\x{017E}/&#x017E;/g;   # 	
	$line =~ s/\x{017F}/&#x017F;/g;   #

	$line =~ s/\x{01cd}/&#x01CD;/g;   # 	
	$line =~ s/\x{01ce}/&#x01CE;/g;   # 	
	$line =~ s/\x{01cf}/&#x01CF;/g;   # 	
	$line =~ s/\x{01d0}/&#x01D0;/g;   # 	
	$line =~ s/\x{01d1}/&#x01D1;/g;   # 	
	$line =~ s/\x{01d2}/&#x01D2;/g;   # 	
	$line =~ s/\x{01d3}/&#x01D3;/g;   # 	
	$line =~ s/\x{01d4}/&#x01D4;/g;   # 	
	
	$line =~ s/\x{0192}/&#x0192;/g;   # 	
	$line =~ s/\x{02c6}/&#x02C6;/g;   # 	
	$line =~ s/\x{02dc}/&#x02DC;/g;   # 	

	$line =~ s/\x{0254}/&#x0254;/g;   # 	
	$line =~ s/\x{e002}/&#xE002;/g;   # 	
	$line =~ s/\x{e003}/&#xE003;/g;   # 	
	$line =~ s/\x{0259}/&#x0259;/g;   # 	
	$line =~ s/\x{e004}/&#xE004;/g;   #
	$line =~ s/\x{e005}/&#xE005;/g;   #
	$line =~ s/\x{028c}/&#x028C;/g;   #
	$line =~ s/\x{e006}/&#xE006;/g;   #
	$line =~ s/\x{e007}/&#xE007;/g;   #
	$line =~ s/\x{0251}/&#x0251;/g;   #
	$line =~ s/\x{e008}/&#xE008;/g;   #
	$line =~ s/\x{e009}/&#xE009;/g;   #
	$line =~ s/\x{0283}/&#x0283;/g;   #
	$line =~ s/\x{028a}/&#x028A;/g;   #
	$line =~ s/\x{03b8}/&#x03b8;/g;   #
	$line =~ s/\x{0292}/&#x0292;/g;   #
	$line =~ s/\x{0252}/&#x0252;/g;   #
	$line =~ s/\x{025b}/&#x025b;/g;   #
	$line =~ s/\x{025c}/&#x025c;/g;   #
	$line =~ s/\x{028e}/&#x028e;/g;   #

	# folgende codepoints haben momentan
	# keine gaiji-bitmaps. 
	# vorerst mit mehr oder weniger quivlaneten 
	# symbolen ersetzen

	# tiefgestellte ziffern
	$line =~ s/\x{2080}/<sub>0<\/sub>/g;  # 0 tiefgestellt
	$line =~ s/\x{2081}/<sub>1<\/sub>/g;  # 1 tiefgestellt
	$line =~ s/\x{2082}/<sub>2<\/sub>/g;  # 2 tiefgestellt
	$line =~ s/\x{2083}/<sub>3<\/sub>/g;  # 3 tiefgestellt
	$line =~ s/\x{2084}/<sub>4<\/sub>/g;  # 4 tiefgestellt
	$line =~ s/\x{2085}/<sub>5<\/sub>/g;  # 4 tiefgestellt
	$line =~ s/\x{2086}/<sub>6<\/sub>/g;  # 4 tiefgestellt
	$line =~ s/\x{2087}/<sub>7<\/sub>/g;  # 4 tiefgestellt
	$line =~ s/\x{2088}/<sub>8<\/sub>/g;  # 4 tiefgestellt
	$line =~ s/\x{2089}/<sub>9<\/sub>/g;  # 9 tiefgestellt

	# hhergestellte ziffern
	$line =~ s/\x{2070}/<sup>0<\/sup>/g;  # 0 
	$line =~ s/\x{2071}/<sup>1<\/sup>/g;  # 1 
	$line =~ s/\x{2072}/<sup>2<\/sup>/g;  # 2 
	$line =~ s/\x{2073}/<sup>3<\/sup>/g;  # 3 
	$line =~ s/\x{2074}/<sup>4<\/sup>/g;  # 4 
	$line =~ s/\x{2075}/<sup>5<\/sup>/g;  # 4 
	$line =~ s/\x{2076}/<sup>6<\/sup>/g;  # 4 
	$line =~ s/\x{2077}/<sup>7<\/sup>/g;  # 4 
	$line =~ s/\x{2078}/<sup>8<\/sup>/g;  # 4 
	$line =~ s/\x{2079}/<sup>9<\/sup>/g;  # 9 

	$line =~ s/\x{207b}/-/g;  # superscript minus
	$line =~ s/\x{2014}/-/g;  # em dash
	$line =~ s/\x{02d8}/-/g;  # breve
	$line =~ s/\x{02dd}/~/g;  # double acute accent
	
	$line =~ s/\x{201a}/'/g;  # einzelner AnfErungsstrich unten
	$line =~ s/\x{201b}/'/g;  # single high-reversed-9 quotation mark
	$line =~ s/\x{303d}/\\/g;  # part alternation mark
	$line =~ s/\x{2034}/'"/g;  # triple prime '''

	$line =~ s/\x{3035}/\\/g;  # vertical kana repeat mark lower half

	$line =~ s/\x{0255}/c/g;  # c with curl
	$line =~ s/\x{0291}/c/g;  # z with caron
	$line =~ s/\x{010d}/c/g;  # c with caron
	$line =~ s/\x{010c}/C/g;  # C caron	
 	$line =~ s/\x{0105}/a/g;  # a ogonek
	$line =~ s/\x{0107}/a/g;  # a ogonek 
	$line =~ s/\x{0103}/c/g;  # c with acute
	$line =~ s/\x{01b0}/u/g;  # u with horn
	$line =~ s/\x{01a1}/o/g;  # o with horn
	$line =~ s/\x{1ea7}/a/g;  # a with circumflex and grave
	$line =~ s/\x{1ec5}/e/g;  # e with circumflex and tilde
	$line =~ s/\x{1ea9}/a/g;  # a with circumflex and hook above
	$line =~ s/\x{028f}/y/g;  # small capital y

	$line =~ s/\x{1ea1}/a/g;  # a unterpunkt
	$line =~ s/\x{1e47}/a/g;  # u unterpunkt
	$line =~ s/\x{1e43}/m/g;  # m unterpunkt
	$line =~ s/\x{1e25}/h/g;  # h unterpunkt
	$line =~ s/\x{1e63}/s/g;  # s unterpunkt
	$line =~ s/\x{1e0d}/d/g;  # d unterpunkt
	$line =~ s/\x{1e0c}/D/g;  # D unterpunkt
	$line =~ s/\x{027e}/r/g;  # r mit fishhook
	$line =~ s/\x{1e6d}/t/g;  # t mit unterpunkt
	
	$line =~ s/\x{2022}/-/g;  # bullet
	$line =~ s/\x{2660}/\/\\/g;  # black spade suit
	$line =~ s/\x{2664}/\/\\/g;  # white spade suit	
	$line =~ s/\x{2044}/\//g;  # fraction slash
	$line =~ s/\x{02da}/()/g;  # circle above 
	$line =~ s/\x{2211}/Sum/g;  # Summenzeichen

	
	$line =~ s/\x{303b}/+/g;  # vertical ideographic iteration mark
	$line =~ s/\x{303b}/+/g;  # vertical ideographic iteration mark
	$line =~ s/\x{309a}/*/g;  # combining katakana-hiragana semi-voiced sound mark
	$line =~ s/\x{3191}/gesp./g;  # ideographic annotation reverse mark  
	$line =~ s/\x{313d}/altern./g;  # part alternation mark
	
	$line =~ s/\x{2668}/(SymHotSpring)/g;  # hot spring
	$line =~ s/\x{2630}/(SymHeaven)/g;  # Trigramm heaven 
	$line =~ s/\x{2635}/(SymWater)/g;  # Trigramm water 
	$line =~ s/\x{2631}/(SymLake)/g;  # Trigramm lake
	$line =~ s/\x{2632}/(SymFire)/g;  # Trigramm fire
	$line =~ s/\x{2634}/(SymWind)/g;  # Trigramm wind 
	$line =~ s/\x{2637}/(SymEarth)/g;  # Trigramm earth 
	$line =~ s/\x{3299}/(SymSecret)/g;  # circled ideographic secret	
	$line =~ s/\x{3020}/(SymPostalMarkFace)/g;  # postal mark face
	$line =~ s/\x{3036}/(SymPostalMarkCircle)/g;  # postal mark circled

	
	
	# radikale
	$line =~ s/\x{2ea1}/(uc2ea1)/g;  # 

# fE folgende zeichen gibt keien direkten entsprechungen
# im sjis standard, hauptschlich unifzierte cjk-zeichen

$line =~ s/\x{6798}/uc6798/g; #
$line =~ s/\x{6335}/uc6335/g; #
$line =~ s/\x{8c9b}/uc8c9b/g; #
$line =~ s/\x{8758}/uc8758/g; #
$line =~ s/\x{8713}/uc8713/g; #
$line =~ s/\x{6677}/uc6677/g; #
$line =~ s/\x{7185}/uc7185/g; #
$line =~ s/\x{5202}/uc5202/g; #
$line =~ s/\x{766d}/uc766d/g; #
$line =~ s/\x{7146}/uc7146/g; #
$line =~ s/\x{9d65}/uc9d65/g; #
$line =~ s/\x{8788}/uc8788/g; #
$line =~ s/\x{9b66}/uc9b66/g; #
$line =~ s/\x{9f09}/uc9f09/g; #
$line =~ s/\x{816d}/uc816d/g; #
$line =~ s/\x{8e20}/uc8e20/g; #
$line =~ s/\x{86fa}/uc86fa/g; #
$line =~ s/\x{9633}/uc9633/g; #
$line =~ s/\x{8532}/uc8532/g; #
$line =~ s/\x{7366}/uc7366/g; #
$line =~ s/\x{9401}/uc9401/g; #
$line =~ s/\x{3231}/uc3231/g; #
$line =~ s/\x{3291}/uc3291/g; #
$line =~ s/\x{337f}/uc337f/g; #
$line =~ s/\x{97db}/uc97db/g; #
$line =~ s/\x{6a0f}/uc6a0f/g; #
$line =~ s/\x{762d}/uc762d/g; #
$line =~ s/\x{9c72}/uc9c72/g; #
$line =~ s/\x{9d5f}/uc9d5f/g; #
$line =~ s/\x{857a}/uc857a/g; #
$line =~ s/\x{9b73}/uc9b73/g; #
$line =~ s/\x{9b63}/uc9b63/g; #
$line =~ s/\x{5ffc}/uc5ffc/g; #
$line =~ s/\x{9f57}/uc9f57/g; #
$line =~ s/\x{6a49}/uc6a49/g; #
$line =~ s/\x{7a39}/uc7a39/g; #
$line =~ s/\x{86fc}/uc86fc/g; #
$line =~ s/\x{58d4}/uc58d4/g; #
$line =~ s/\x{961d}/uc961d/g; #
$line =~ s/\x{2e98}/uc2e98/g; #
$line =~ s/\x{79b1}/uc79b1/g; #
$line =~ s/\x{8279}/uc8279/g; #
$line =~ s/\x{fa5d}/ucfa5d/g; #
$line =~ s/\x{fa5e}/ucfa5e/g; #
$line =~ s/\x{2eae}/uc2eae/g; #
$line =~ s/\x{7664}/uc7664/g; #
$line =~ s/\x{8354}/uc8354/g; #
$line =~ s/\x{544d}/uc544d/g; #
$line =~ s/\x{6451}/uc6451/g; #
$line =~ s/\x{7592}/uc7592/g; #
$line =~ s/\x{6c35}/uc6c35/g; #
$line =~ s/\x{5c2b}/uc5c2b/g; #
$line =~ s/\x{793b}/uc793b/g; #
$line =~ s/\x{57f5}/uc57f5/g; #
$line =~ s/\x{7b5f}/uc7b5f/g; #
$line =~ s/\x{56ca}/uc56ca/g; #
$line =~ s/\x{511b}/uc511b/g; #
$line =~ s/\x{5b7c}/uc5b7c/g; #
$line =~ s/\x{5b7d}/uc5b7d/g; #
$line =~ s/\x{8801}/uc8801/g; #
$line =~ s/\x{3004}/uc3004/g; #
$line =~ s/\x{9830}/uc9830/g; #
$line =~ s/\x{8a01}/uc8a01/g; #
$line =~ s/\x{698d}/uc698d/g; #
$line =~ s/\x{8dd7}/uc8dd7/g; #
$line =~ s/\x{814a}/uc814a/g; #
$line =~ s/\x{68bb}/uc68bb/g; #
$line =~ s/\x{5f47}/uc5f47/g; #
$line =~ s/\x{9a52}/uc9a52/g; #
$line =~ s/\x{6c3f}/uc6c3f/g; #
$line =~ s/\x{861e}/uc861e/g; #
$line =~ s/\x{7064}/uc7064/g; #
$line =~ s/\x{5f45}/uc5f45/g; #
$line =~ s/\x{9ebd}/uc9ebd/g; #
$line =~ s/\x{9c4f}/uc9c4f/g; #
$line =~ s/\x{9c5d}/uc9c5d/g; #
$line =~ s/\x{9c6e}/uc9c6e/g; #
$line =~ s/\x{986c}/uc986c/g; #
$line =~ s/\x{6d0e}/uc6d0e/g; #
$line =~ s/\x{9f2f}/uc9f2f/g; #
$line =~ s/\x{9f3a}/uc9f3a/g; #
$line =~ s/\x{fa66}/ucfa66/g; #
$line =~ s/\x{9127}/uc9127/g; #
$line =~ s/\x{87d6}/uc87d6/g; #
$line =~ s/\x{70b7}/uc70b7/g; #
$line =~ s/\x{82b0}/uc82b0/g; #
$line =~ s/\x{566f}/uc566f/g; #
$line =~ s/\x{9238}/uc9238/g; #
$line =~ s/\x{3396}/uc3396/g; #
$line =~ s/\x{8ebb}/uc8ebb/g; #
$line =~ s/\x{873a}/uc873a/g; #
$line =~ s/\x{6aab}/uc6aab/g; #
$line =~ s/\x{9c36}/uc9c36/g; #
$line =~ s/\x{9b6c}/uc9b6c/g; #
$line =~ s/\x{75ce}/uc75ce/g; #
$line =~ s/\x{84be}/uc84be/g; #
$line =~ s/\x{9e87}/uc9e87/g; #
$line =~ s/\x{9e9e}/uc9e9e/g; #
$line =~ s/\x{7350}/uc7350/g; #
$line =~ s/\x{919e}/uc919e/g; #
$line =~ s/\x{97dd}/uc97dd/g; #
$line =~ s/\x{6ae7}/uc6ae7/g; #
$line =~ s/\x{9ab6}/uc9ab6/g; #
$line =~ s/\x{7c94}/uc7c94/g; #
$line =~ s/\x{7c79}/uc7c79/g; #
$line =~ s/\x{6a45}/uc6a45/g; #
$line =~ s/\x{5f50}/uc5f50/g; #
$line =~ s/\x{2e95}/uc2e95/g; #
$line =~ s/\x{9dda}/uc9dda/g; #
$line =~ s/\x{73e7}/uc73e7/g; #
$line =~ s/\x{8fa6}/uc8fa6/g; #
$line =~ s/\x{6673}/uc6673/g; #
$line =~ s/\x{7734}/uc7734/g; #
$line =~ s/\x{6479}/uc6479/g; #
$line =~ s/\x{7f52}/uc7f52/g; #
$line =~ s/\x{34c1}/uc34c1/g; #
$line =~ s/\x{503b}/uc503b/g; #
$line =~ s/\x{80f6}/uc80f6/g; #
$line =~ s/\x{9bfd}/uc9bfd/g; #
$line =~ s/\x{880a}/uc880a/g; #
$line =~ s/\x{795c}/uc795c/g; #
$line =~ s/\x{8806}/uc8806/g; #
$line =~ s/\x{685b}/uc685b/g; #
$line =~ s/\x{8731}/uc8731/g; #
$line =~ s/\x{87ce}/uc87ce/g; #
$line =~ s/\x{8795}/uc8795/g; #
$line =~ s/\x{8d1b}/uc8d1b/g; #
$line =~ s/\x{85b0}/uc85b0/g; #
$line =~ s/\x{9b5e}/uc9b5e/g; #
$line =~ s/\x{6996}/uc6996/g; #
$line =~ s/\x{91b6}/uc91b6/g; #
$line =~ s/\x{4ebb}/uc4ebb/g; #
$line =~ s/\x{6964}/uc6964/g; #
$line =~ s/\x{76b6}/uc76b6/g; #
$line =~ s/\x{3239}/uc3239/g; #
$line =~ s/\x{69f5}/uc69f5/g; #
$line =~ s/\x{72ad}/uc72ad/g; #
$line =~ s/\x{9f39}/uc9f39/g; #
$line =~ s/\x{203a}/uc203a/g; #
$line =~ s/\x{6f7d}/uc6f7d/g; #
$line =~ s/\x{8772}/uc8772/g; #
$line =~ s/\x{3232}/uc3232/g; #
$line =~ s/\x{3292}/uc3292/g; #
$line =~ s/\x{733d}/uc733d/g; #
$line =~ s/\x{908c}/uc908c/g; #
$line =~ s/\x{6365}/uc6365/g; #
$line =~ s/\x{9dd7}/uc9dd7/g; #
$line =~ s/\x{68b2}/uc68b2/g; #
$line =~ s/\x{2fa1}/uc2fa1/g; #
$line =~ s/\x{8fb6}/uc8fb6/g; #
$line =~ s/\x{8fb5}/uc8fb5/g; #
$line =~ s/\x{5350}/uc5350/g; #
$line =~ s/\x{5022}/uc5022/g; #
$line =~ s/\x{93fd}/uc93fd/g; #
$line =~ s/\x{9b76}/uc9b76/g; #
$line =~ s/\x{6b35}/uc6b35/g; #
$line =~ s/\x{68f0}/uc68f0/g; #
$line =~ s/\x{70bb}/uc70bb/g; #
$line =~ s/\x{5fc4}/uc5fc4/g; #
$line =~ s/\x{77e0}/uc77e0/g; #
$line =~ s/\x{7c0e}/uc7c0e/g; #
$line =~ s/\x{fb01}/ucfb01/g; #
$line =~ s/\x{8689}/uc8689/g; #
$line =~ s/\x{831b}/uc831b/g; #
$line =~ s/\x{9109}/uc9109/g; #
$line =~ s/\x{9bf3}/uc9bf3/g; #
$line =~ s/\x{881f}/uc881f/g; #
$line =~ s/\x{9d7c}/uc9d7c/g; #
$line =~ s/\x{3094}/uc3094/g; #
$line =~ s/\x{fa1c}/ucfa1c/g; #
$line =~ s/\x{2ea9}/uc2ea9/g; #
$line =~ s/\x{7328}/uc7328/g; #
$line =~ s/\x{6857}/uc6857/g; #
$line =~ s/\x{9e0a}/uc9e0a/g; #
$line =~ s/\x{9dc9}/uc9dc9/g; #
$line =~ s/\x{9e04}/uc9e04/g; #
$line =~ s/\x{3236}/uc3236/g; #
$line =~ s/\x{3296}/uc3296/g; #
$line =~ s/\x{3402}/uc3402/g; #
$line =~ s/\x{9c16}/uc9c16/g; #
$line =~ s/\x{6882}/uc6882/g; #
$line =~ s/\x{9c27}/uc9c27/g; #
$line =~ s/\x{8dc6}/uc8dc6/g; #
$line =~ s/\x{9eff}/uc9eff/g; #
$line =~ s/\x{3033}/uc3033/g; #
$line =~ s/\x{9d8d}/uc9d8d/g; #
$line =~ s/\x{9c53}/uc9c53/g; #
$line =~ s/\x{88f1}/uc88f1/g; #
$line =~ s/\x{7e6b}/uc7e6b/g; #
$line =~ s/\x{ff0d}/ucff0d/g; #
$line =~ s/\x{777a}/uc777a/g; #
$line =~ s/\x{5c5b}/uc5c5b/g; #
$line =~ s/\x{630d}/uc630d/g; #
$line =~ s/\x{9d42}/uc9d42/g; #
$line =~ s/\x{9463}/uc9463/g; #
$line =~ s/\x{8447}/uc8447/g; #
$line =~ s/\x{8351}/uc8351/g; #
$line =~ s/\x{9416}/uc9416/g; #
$line =~ s/\x{6caa}/uc6caa/g; #
$line =~ s/\x{974f}/uc974f/g; #
$line =~ s/\x{6a01}/uc6a01/g; #
$line =~ s/\x{7aa0}/uc7aa0/g; #
$line =~ s/\x{9b9e}/uc9b9e/g; #
$line =~ s/\x{9856}/uc9856/g; #
$line =~ s/\x{6410}/uc6410/g; #
$line =~ s/\x{6d31}/uc6d31/g; #
$line =~ s/\x{7fce}/uc7fce/g; #
$line =~ s/\x{9239}/uc9239/g; #
$line =~ s/\x{668d}/uc668d/g; #
$line =~ s/\x{5fa7}/uc5fa7/g; #
$line =~ s/\x{5db9}/uc5db9/g; #
$line =~ s/\x{9ed1}/uc9ed1/g; #
$line =~ s/\x{9ad9}/uc9ad9/g; #
$line =~ s/\x{6645}/uc6645/g; #
$line =~ s/\x{73c9}/uc73c9/g; #
$line =~ s/\x{8579}/uc8579/g; #
$line =~ s/\x{7c01}/uc7c01/g; #
$line =~ s/\x{9095}/uc9095/g; #
$line =~ s/\x{7430}/uc7430/g; #
$line =~ s/\x{59ec}/uc59ec/g; #
$line =~ s/\x{756f}/uc756f/g; #
$line =~ s/\x{fa11}/ucfa11/g; #
$line =~ s/\x{66b2}/uc66b2/g; #
$line =~ s/\x{70e4}/uc70e4/g; #
	
	$line =~ s/\x{feff}//g;
	
	
	
	print FILEOUT $line;
	
}
}

close(FILEIN);
close(FILEOUT);